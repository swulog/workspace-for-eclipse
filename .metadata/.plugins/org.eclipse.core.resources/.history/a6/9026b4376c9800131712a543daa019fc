package com.ivorytower.app.service.impl;

import java.util.ArrayList;
import java.util.HashMap;
import java.util.List;
import java.util.Map;

import org.springframework.stereotype.Service;

import com.ivorytower.app.entity.Postlistinfo;
import com.ivorytower.app.entity.Userbaseinfo;
import com.ivorytower.app.service.PostService;

@Service("postservice")
public class PostServiceImpl extends BaseServiceImpl implements PostService {

	@SuppressWarnings("unchecked")
	@Override
	public void findPostListByTypeId(int typeId) {
		// TODO Auto-generated method stub
		String hql="from Postlistinfo t where t.pliPtiid=?";
		List<Postlistinfo> list = (List<Postlistinfo>)this.getBaseDao().findByHql(hql, typeId);
		List<Object> listData=new ArrayList<Object>();
		if (postlist.size() > 0) {
			for (int i=0;i<postlist.size();i++) {
				Map<Object,Object> mapData=new HashMap<Object,Object>();
				mapData.put("content", postlist.get(i).getPliContent());
				mapData.put("createtime", postlist.get(i).getPliCreatetime());
				mapData.put("pid", postlist.get(i).getPliId());
				mapData.put("istop", postlist.get(i).getPliIstop());
				mapData.put("pttid", postlist.get(i).getPliPtiid());
				mapData.put("replynum", postlist.get(i).getPliReplynum());
				mapData.put("reportnum", postlist.get(i).getPliReportnum());
				mapData.put("status", postlist.get(i).getPliStatus());
				mapData.put("title", postlist.get(i).getPliTitle());
				mapData.put("userid", postlist.get(i).getPliUserid());
				listData.add(mapData);
			}
		}
		
		result.getData().put("list", listData);
		result.setMsg("成功");
	}

}
